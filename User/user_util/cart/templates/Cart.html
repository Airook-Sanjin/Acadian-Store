<style>
  .Cart-Container {
    display: flex;
    height:70vh;
    flex-direction: column;
    /* background-color: var(--Primary); */
    padding: 2em;
    gap: 3em;
   
    overflow: scroll;
    overflow-x: hidden;
    
  }
  .Cart-Container::-webkit-scrollbar {
   width:.2em;
   /* height: 2em; */
    
  }
  .Cart-Container::-webkit-scrollbar-track{
    background: hsl(0, 0%, 95%);
    /* height:80%; */
    
  }
  .Cart-Container::-webkit-scrollbar-thumb{
    background:linear-gradient(0deg, hsl(0, 0%, 95%) 0 10%  ,black 50% 55%, hsl(0, 0%, 95%) 90% 100% );
    border-radius: 32px;
  }
  .item-Card {
    display: flex;
    flex-direction: row;
    width:100%;
    max-width: 100%;
    background-color: white;
    padding: 2em;
    border-radius: 20px;
    justify-content: space-between;
    box-shadow: var(--BoxShadow);
  }
  .item-info {
    display: flex;
    flex-direction: row;
    gap: 2em;
    width: 50%;
  }
  .product_container {
    display: none;
  }
  #Title {
    text-align: left;
    padding: 1em;
  }
  #Total{
    border-top: 1px black solid;
  }
  #RemoveBTN{
    margin-top: 1em;
    
  }
  .item-fun{
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap:1em;
    align-items: center;
  }
  .Cart-Total-Section {
    display: flex;
    
  }
  .totals-Container{
    padding:2em;
  }
  /*  ---Payment Process  FROM OLD FINAL ---*/
  .Payment-Info-Container {
	display: none;
	padding: 1.5%;
	width: 60%;
	
	padding-bottom: 20px;
	/* margin-bottom: 5%;
	margin-top: 2%; */
}
.Payment-Info-Content {
	display: flex;
	flex-direction: column;
	width: 100%;
  
	/* gap: 25px; */
}
.name-Container,
.Email-Container,
.City-State {
	display: flex;
	flex-direction: row;
	gap: 20px;
}

.optionalTip-container h5 {
	font-size: 1rem;
}

.Contact-Info-Content,
.optionalTip-container,
.PaymentMethod-Container,
.Summary-Container {
	display: flex;
	flex-direction: column;
	/* row-gap: 20px; */

}

.Name,
#Email,
#CardName,
#CardNumber,
#ExpDate,
#CouponID,
#Phone,
#StreetAddress,
#AddressLine2,
#City,
#State,
#ZipCode {
	border-radius: 6px;
	padding: 5px;
	border: 1px solid var(--ui-grey);
	/* background-color: hsl(0, 0%, 90%); */
	/* height: 100%; */
	/* height: fit-content; */
	font-size: 1rem;
}

.star {
	color: red;
}

.tipbtncontainer {
	display: flex;
	flex-direction: row;
	gap: 3%;
}
.tip-btn {
	display: flex;
	justify-content: center;
	text-wrap: wrap;
	padding: 6px;
	font-size: 16px;
	overflow: hidden;
	text-align-last: center;
	width: 60px;
	border: none;
	font-weight: 500;
	border-radius: 20px;
}

.CouponSubmit {
	display: flex;
	justify-content: center;
	text-align: center;
	padding: 10px;
	width: 14%;
	border: none;
	border-radius: 20px;
}

#StreetAddress,
#AddressLine2 {
	width: 48%;
}

.AddressLine2 {
	margin-top: 15px;
}

.tip-btn:hover,
.CouponSubmit:hover {
	transform: translateY(-2px);
	background-color: hsl(56, 96%, 58%);
	box-shadow: 0px 4px 4px #00000030, 0px 12px 12px #00000000;
	transition: all 0.3s;
}
.Couponcontainer {
	display: flex;
	flex-direction: column;
	width: 40%;
	row-gap: 20px;
}
.CouponEnterSection {
	display: flex;
	gap: 2%;
}
.CouponEnterSection .CouponSubmit {
	width: 20%;
}
.PaymentMethod-Container {
	display: flex;
	flex-direction: column;
	width: 40%;
}
.Order-Summary-Content {
	display: flex;
	flex-direction: column;
}
.Card-Cont {
	display: flex;
	flex-direction: row;
	gap: 20px;
}
.Exp-Cvv-Container {
	display: flex;
	/* justify-content: center; */
	/* column-gap: 20px; */
}
.Exp-Cvv-Container input {
	display: flex;
	width: 50%;
}
.Exp {
	width: 300%;
}

#CVV {
	border-radius: 6px;
	padding: 3px;
	border: 1px solid var(--ui-grey);
	/* background-color: hsl(0, 0%, 90%); */
	/* height: 100%; */
	height: fit-content;
	width: 50px;
	font-size: 1rem;
}
.Cvv {
	width: 100%;
}

</style>
{% extends 'GuestHomepage.html' %}
 {% block body %}
 <section class="Main">
<h1 id="Title">{{username.title()}}'s Cart</h1>
<section class="Cart-Total-Section">
  <section class="Cart-Container">
    {% for item in CartList %}
    <section class="item-Card">
      <section class="item-info">
        <h3>{{item['title']}}</h3>
        <h4>{{item['size']}}</h4>
        <p>{{item['price']}}</p>
        <p>{{item['description']}}</p>
      </section>
      <section class="item-fun">
        <h3>${{item['price']}}</h3>
        <form id="Remove section"
          action="{{url_for('cart_bp.RemoveFromCart',username=g.User['Name'])}}"
          method="POST"
        >
          <input type="hidden" name="RemovedItem" value="{{item['itemid']}}" />
          <input class="BTN"type="submit" name="RemoveBTN" value="Remove Item" />
        </form>
      </section>
    </section>
    {% endfor %}
  </section>
  <!-- From old Final -->
  <div class="Payment-Info-Container">
    <div class="Payment-Info-Content">
      <div class="contact-Info-Container">
        <div class="Contact-Info-Content">
          <h5>Contact Information</h5>

          <div class="name-Container">
            <div class="nameEmailcard">
              <h6>Name <span class="star">*</span></h6>
              <input
                id="FirstName"
                class="Name"
                type="text"
                placeholder="First Name"
                required />
            </div>
            <div class="nameEmailcard">
              <h6>Last Name <span class="star">*</span></h6>
              <input
                id="LastName"
                class="Name Last"
                type="text"
                placeholder="Last Name" />
            </div>
          </div>

          <div class="Email-Container">
            <div class="Email">
              <h6>Email <span class="star">*</span></h6>
              <input
                id="Email"
                type="text"
                placeholder="FirstLast@asmail.com"
                required />
            </div>

            <div class="Phone">
              <h6>Phone Number <span class="star">*</span></h6>
              <input
                id="Phone"
                type="tel"
                placeholder="(555) 555-5555" />
            </div>
          </div>

          <div class="Address-Container">
            <div class="Address">
              <h6>Street Address <span class="star">*</span></h6>
              <input
                type="text"
                placeholder="123 Main St"
                id="StreetAddress"
                required />
            </div>
            <div class="AddressLine2">
              <h6>Address Line 2</h6>
              <input
                type="text"
                placeholder="Apt, Suite, Unit, etc."
                id="AddressLine2" />
            </div>
          </div>
          <div class="City-State">
            <div class="City-Container">
              <h6>City <span class="star">*</span></h6>
              <input
                type="text"
                placeholder="City"
                id="City"
                required />
            </div>

            <div class="State-Container">
              <h6>State/Province/Region <span class="star">*</span></h6>
              <select
                id="State"
                required>
                <option
                  value=""
                  disabled
                  selected>
                  Select State/Province
                </option>
                <option value="">Select State</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
          </div>

          <div class="Zip-Container">
            <h6>ZIP/Postal Code <span class="star">*</span></h6>
            <input
              type="text"
              placeholder="ZIP/Postal Code"
              id="ZipCode"
              required />
          </div>
        </div>
      </div>
      <div class="optionalTip-container">
        <h5>Tips? ðŸ¥º</h5>
        <div class="tipbtncontainer">
          <button class="tip-btn">5%</button>
          <button class="tip-btn">15%</button>
          <button class="tip-btn">20%</button>
          <button class="tip-btn">No Tip</button>
        </div>
        <div class="Couponcontainer">
          <h5>Coupons</h5>
          <div class="CouponEnterSection">
            <input
              type="text"
              name="Coupon"
              id="CouponID"
              placeholder="EnterCoupon" />
            <button
              class="CouponSubmit"
              id="CouponBtn">
              Enter
            </button>
          </div>
        </div>
      </div>
      
      <div class="PaymentMethod-Container">
        <div class="payment-title">
          <h5>Payment Method</h5>
          <div class="creditcards">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 48 48">
              <path
                fill="#1565C0"
                d="M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"></path>
              <path
                fill="#FFF"
                d="M15.186 19l-2.626 7.832c0 0-.667-3.313-.733-3.729-1.495-3.411-3.701-3.221-3.701-3.221L10.726 30v-.002h3.161L18.258 19H15.186zM17.689 30L20.56 30 22.296 19 19.389 19zM38.008 19h-3.021l-4.71 11h2.852l.588-1.571h3.596L37.619 30h2.613L38.008 19zM34.513 26.328l1.563-4.157.818 4.157H34.513zM26.369 22.206c0-.606.498-1.057 1.926-1.057.928 0 1.991.674 1.991.674l.466-2.309c0 0-1.358-.515-2.691-.515-3.019 0-4.576 1.444-4.576 3.272 0 3.306 3.979 2.853 3.979 4.551 0 .291-.231.964-1.888.964-1.662 0-2.759-.609-2.759-.609l-.495 2.216c0 0 1.063.606 3.117.606 2.059 0 4.915-1.54 4.915-3.752C30.354 23.586 26.369 23.394 26.369 22.206z"></path>
              <path
                fill="#FFC107"
                d="M12.212,24.945l-0.966-4.748c0,0-0.437-1.029-1.573-1.029c-1.136,0-4.44,0-4.44,0S10.894,20.84,12.212,24.945z"></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 48 48">
              <path
                fill="#1976D2"
                d="M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"></path>
              <path
                fill="#FFF"
                d="M22.255 20l-2.113 4.683L18.039 20h-2.695v6.726L12.341 20h-2.274L7 26.981h1.815l.671-1.558h3.432l.682 1.558h3.465v-5.185l2.299 5.185h1.563l2.351-5.095v5.095H25V20H22.255zM10.135 23.915l1.026-2.44 1.066 2.44H10.135zM37.883 23.413L41 20.018h-2.217l-1.994 2.164L34.86 20H28v6.982h6.635l2.092-2.311L38.767 27h2.21L37.883 23.413zM33.728 25.516h-4.011v-1.381h3.838v-1.323h-3.838v-1.308l4.234.012 1.693 1.897L33.728 25.516z"></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 48 48">
              <path
                fill="#E1E7EA"
                d="M45,35c0,2.2-1.8,4-4,4H7c-2.2,0-4-1.8-4-4V13c0-2.2,1.8-4,4-4h34c2.2,0,4,1.8,4,4V35z"></path>
              <path
                fill="#FF6D00"
                d="M45,35c0,2.2-1.8,4-4,4H16c0,0,23.6-3.8,29-15V35z M22,24c0,1.7,1.3,3,3,3s3-1.3,3-3c0-1.7-1.3-3-3-3S22,22.3,22,24z"></path>
              <path
                d="M11.2,21h1.1v6h-1.1V21z M17.2,24c0,1.7,1.3,3,3,3c0.5,0,0.9-0.1,1.4-0.3v-1.3c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.9-0.8-1.9-2c0-1.1,0.8-2,1.9-2c0.5,0,0.9,0.2,1.4,0.6v-1.3c-0.5-0.2-0.9-0.4-1.4-0.4C18.5,21,17.2,22.4,17.2,24z M30.6,24.9L29,21h-1.2l2.5,6h0.6l2.5-6h-1.2L30.6,24.9z M33.9,27h3.2v-1H35v-1.6h2v-1h-2V22h2.1v-1h-3.2V27z M41.5,22.8c0-1.1-0.7-1.8-2-1.8h-1.7v6h1.1v-2.4h0.1l1.6,2.4H42l-1.8-2.5C41,24.3,41.5,23.7,41.5,22.8z M39.2,23.8h-0.3v-1.8h0.3c0.7,0,1.1,0.3,1.1,0.9C40.3,23.4,40,23.8,39.2,23.8z M7.7,21H6v6h1.6c2.5,0,3.1-2.1,3.1-3C10.8,22.2,9.5,21,7.7,21z M7.4,26H7.1v-4h0.4c1.5,0,2.1,1,2.1,2C9.6,24.4,9.5,26,7.4,26z M15.3,23.3c-0.7-0.3-0.9-0.4-0.9-0.7c0-0.4,0.4-0.6,0.8-0.6c0.3,0,0.6,0.1,0.9,0.5l0.6-0.8C16.2,21.2,15.7,21,15,21c-1,0-1.8,0.7-1.8,1.7c0,0.8,0.4,1.2,1.4,1.6c0.6,0.2,1.1,0.4,1.1,0.9c0,0.5-0.4,0.8-0.9,0.8c-0.5,0-1-0.3-1.2-0.8l-0.7,0.7c0.5,0.8,1.1,1.1,2,1.1c1.2,0,2-0.8,2-1.9C16.9,24.2,16.5,23.8,15.3,23.3z"></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 48 48">
              <path
                fill="#3F51B5"
                d="M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"></path>
              <path
                fill="#FFC107"
                d="M30 14A10 10 0 1 0 30 34A10 10 0 1 0 30 14Z"></path>
              <path
                fill="#FF3D00"
                d="M22.014,30c-0.464-0.617-0.863-1.284-1.176-2h5.325c0.278-0.636,0.496-1.304,0.637-2h-6.598C20.07,25.354,20,24.686,20,24h7c0-0.686-0.07-1.354-0.201-2h-6.598c0.142-0.696,0.359-1.364,0.637-2h5.325c-0.313-0.716-0.711-1.383-1.176-2h-2.973c0.437-0.58,0.93-1.122,1.481-1.595C21.747,14.909,19.481,14,17,14c-5.523,0-10,4.477-10,10s4.477,10,10,10c3.269,0,6.162-1.575,7.986-4H22.014z"></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              x="0px"
              y="0px"
              width="30"
              height="30"
              viewBox="0 0 48 48">
              <path
                fill="#1565C0"
                d="M18.7,13.767l0.005,0.002C18.809,13.326,19.187,13,19.66,13h13.472c0.017,0,0.034-0.007,0.051-0.006C32.896,8.215,28.887,6,25.35,6H11.878c-0.474,0-0.852,0.335-0.955,0.777l-0.005-0.002L5.029,33.813l0.013,0.001c-0.014,0.064-0.039,0.125-0.039,0.194c0,0.553,0.447,0.991,1,0.991h8.071L18.7,13.767z"></path>
              <path
                fill="#039BE5"
                d="M33.183,12.994c0.053,0.876-0.005,1.829-0.229,2.882c-1.281,5.995-5.912,9.115-11.635,9.115c0,0-3.47,0-4.313,0c-0.521,0-0.767,0.306-0.88,0.54l-1.74,8.049l-0.305,1.429h-0.006l-1.263,5.796l0.013,0.001c-0.014,0.064-0.039,0.125-0.039,0.194c0,0.553,0.447,1,1,1h7.333l0.013-0.01c0.472-0.007,0.847-0.344,0.945-0.788l0.018-0.015l1.812-8.416c0,0,0.126-0.803,0.97-0.803s4.178,0,4.178,0c5.723,0,10.401-3.106,11.683-9.102C42.18,16.106,37.358,13.019,33.183,12.994z"></path>
              <path
                fill="#283593"
                d="M19.66,13c-0.474,0-0.852,0.326-0.955,0.769L18.7,13.767l-2.575,11.765c0.113-0.234,0.359-0.54,0.88-0.54c0.844,0,4.235,0,4.235,0c5.723,0,10.432-3.12,11.713-9.115c0.225-1.053,0.282-2.006,0.229-2.882C33.166,12.993,33.148,13,33.132,13H19.66z"></path>
            </svg>
          </div>
        </div>
        <h6>Credit Card Details</h6>
        <div class="Card-Cont">
          <div class="CardName">
            <h6>Name on Card <span class="star">*</span></h6>
            <input
              type="text"
              autocomplete="off"
              placeholder="Name on Card"
              name="Cardname"
              id="CardName"
              required />
          </div>
          <div class="CardNumber">
            <h6>Card Number <span class="star">*</span></h6>
            <input
              type="text"
              autocomplete="off"
              inputmode="numeric"
              autocomplete="cc-number"
              pattern="[0-9\s]{13,19}"
              maxlength="19"
              placeholder="xxxx xxxx xxxx xxxx"
              name="CardNumber"
              id="CardNumber"
              required />
          </div>
        </div>

        <div class="Exp-Cvv-Container">
          <div class="Exp">
            <h6>Expiration Date <span class="star">*</span></h6>
            <input
              type="text"
              autocomplete="off"
              inputmode="numeric"
              maxlength="4"
              placeholder="MM/YY"
              id="ExpDate"
              required />
          </div>
          <div class="Cvv">
            <h6>CVV <span class="star">*</span></h6>
            <input
              type="text"
              inputmode="numeric"
              autocomplete="off"
              placeholder="xxx"
              maxlength="3"
              name=""
              id="CVV"
              required />
          </div>
        </div>
      </div>
      
    </div>
  </div>
  

  <section class="totals-Container">
    <h2>Cart Totals</h2>
    
    <h3 id="Total">Total: {{total}} </h3>
    <button id="CheckoutBTN" onclick="GottoCheckout()"> Proceed to checkout</button>
  </section>
</section>
</section>
<script>
  let PaymentCont = document.querySelector(".Payment-Info-Container")
  let checkbtn = document.getElementById("CheckoutBTN");
  let totalCont = document.querySelector(".totals-Container");
  let cartCont = document.querySelector(".Cart-Container");
  
  
  function GottoCheckout(){
    totalCont.insertAdjacentHTML('afterbegin',cartCont.outerHTML);
    Array.from(cartCont.children).forEach(child =>{
      child.style.height='10%'
      child.style.padding='.5em'
      
    })
    cartCont.style.display='none'
    cartCont.style.height="40vh"
    PaymentCont.style.display="flex"
  };
</script>
{% endblock %}
