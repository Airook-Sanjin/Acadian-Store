<style>
  .product_container {
    display: none !important;
  }
  .ProfileInfo {
    padding: 2em;
    /* width:50vw; */
    align-content: center;
    display: flex;
    flex-wrap: wrap;
    flex-direction: column;
  }
  .ProfileInfo input[type="text"] {
    padding: 0.5em;
    /* width:50%; */
    border: none;
    box-shadow: var(--BoxShadow);
    border-bottom: 1px solid hsla(0, 0%, 99%, 0.5);
    background-color: hsl(0, 0%, 86%);
    outline: none;
    &::placeholder {
      color: black;
    }
  }
  .OrderContainter {
    display: grid;
    height: 70vh;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    /* grid-template-rows: repeat(3, auto) ; */
    /* background-color: var(--Primary); */
    padding: 2em;
    gap: 3em;
    overflow: scroll;
    overflow-x: hidden;
  }
  .OrderCard {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100%;
    max-height: 40.112vh;
    background-color: var(--Quad);
    padding: 2em;
    border-radius: 20px;
    justify-content: space-evenly;
    box-shadow: var(--BoxShadow);
  }
  .itemCard {
    display: flex;
    flex-direction: row;
    gap: 0.5em;
    border-radius: 20px;
    
    /* box-shadow: var(--BoxShadow); */
    /* background-color: var(--Quad); */
    align-items: center;
  }
  .item-info.Heading {
    text-decoration: underline;
    border-bottom: none;
  }
  .item-info {
    display: flex;
    flex-direction: row;
    gap: 1em;
    width: 60%;
    align-items: center;
    justify-content: space-around;
    border-bottom: 0.5px solid black;
  }
  #shipped{
  color:var(--Primary);
  }
  .BTN.Reject{
    background-color: brown;
  }
  #rejected{
    color: brown;
  }
</style>
{% extends 'VendorHomepage.html'%} {% block body%}
<section class="Main">
  <h1>{{customer_data['Name'].title()}}'s Profile</h1>
</section>
<section class="ProfileInfo">
  <h2>Name:</h2>
  <input type="text" disabled placeholder="{{customer_data['Name'].title()}}" />
  <h2>Email:</h2>
  <input type="text" disabled placeholder="{{customer_data['Email']}}" />
  <h2>User:</h2>
  <input type="text" disabled placeholder="{{customer_data['User'].title()}}" />
</section>

<section class="OrderHistory">
  <h1>Products bought</h1>
  <section class="OrderContainter">
    {% for order in GroupedOrders %}
    <section class="OrderCard">
      <h2>Order Number: {{order['OrderId']}}</h2>
      <section class="itemCard Heading">
        <section class="item-info Heading">
          <h3>Title</h3>
          <h3>Color</h3>
          <h3>Price</h3>
          <h3>Status</h3>
        </section>
      </section>
      {% for item in order['Items'] %}
      <section class="itemCard">
        <section class="item-info">
          <h3>{{item['ItemTitle']}}</h3>
          <p>{{item['ItemColor']}}</p>
          <p>{{item['ItemPrice']}}</p>
          <p>{{item['ItemStatus']}}</p>
        </section>
        <section class="itemFun">
          {% if item['ItemStatus'] == 'Pending'  %}
          <form id="Ship Order" action="{{url_for('vendor_bp.ShipItem')}}" method="POST">
            
            <input type="hidden" name="ItemID" value="{{item['ItemID']}}" />
            <input class="BTN Ship"type="submit" value="Ready to ship" />
          </form>
          <form id="Ship Order" action="{{url_for('vendor_bp.RejectItem')}}" method="POST">
            
            <input type="hidden" name="ItemID" value="{{item['ItemID']}}" />
            <input class="BTN Reject"type="submit" value="RejectItem" />
          </form>
          {% elif item['ItemStatus'] == 'Rejected' %}
          <h3 id = "rejected">ITEM WAS REJECTED</h3>
          {% else %}
          <h3 id="shipped">ITEM WAS SHIPPED on {{item['DateShipped']}}</h3>
          {% endif %}
        </section>
      </section>
      {% endfor %}
    </section>

    {% endfor %}
  </section>
</section>
{% endblock body %} {% block scripts %} {% endblock scripts %}
